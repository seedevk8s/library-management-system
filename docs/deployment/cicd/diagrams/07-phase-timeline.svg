<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1600 1000">
  <defs>
    <style>
      .timeline { fill: none; stroke: #333; stroke-width: 4; }
      .phase-box { stroke-width: 3; }
      .phase1 { fill: #E8F5E9; stroke: #4CAF50; }
      .phase2 { fill: #E3F2FD; stroke: #2196F3; }
      .phase3 { fill: #FFF3E0; stroke: #FF9800; }
      .text-title { fill: #333; font-family: Arial, sans-serif; font-size: 18px; font-weight: bold; }
      .text-desc { fill: #666; font-family: Arial, sans-serif; font-size: 14px; }
      .text-small { fill: #999; font-family: Arial, sans-serif; font-size: 12px; }
      .dot-completed { fill: #4CAF50; }
      .dot-progress { fill: #FF9800; }
      .dot-pending { fill: #9E9E9E; }
    </style>
  </defs>
  
  <!-- Title -->
  <text x="800" y="40" text-anchor="middle" style="font-size: 32px; fill: #333; font-weight: bold;">
    📅 Phase별 리소스 생성 타임라인
  </text>
  <text x="800" y="70" text-anchor="middle" style="font-size: 16px; fill: #666;">
    언제, 무엇을, 왜 그 순서로 만드는지 한눈에 보기
  </text>
  
  <!-- Timeline -->
  <line x1="150" y1="150" x2="150" y2="900" class="timeline"/>
  
  <!-- Phase 1: Network Layer -->
  <g transform="translate(150, 150)">
    <circle cx="0" cy="0" r="15" class="dot-completed"/>
    <text x="-130" y="5" text-anchor="start" style="font-size: 20px; fill: #4CAF50; font-weight: bold;">Phase 1</text>
    
    <rect x="30" y="-80" width="1400" height="160" class="phase-box phase1" rx="12"/>
    <text x="50" y="-50" style="font-size: 22px; fill: #4CAF50; font-weight: bold;">
      ✅ 네트워크 레이어 (완료)
    </text>
    
    <!-- Resources -->
    <g transform="translate(50, -20)">
      <text x="0" y="0" class="text-title" style="fill: #4CAF50;">1️⃣ VPC / Subnets</text>
      <text x="0" y="20" class="text-desc">✅ 기본 VPC 사용 확인</text>
      <text x="0" y="40" class="text-small" style="fill: #4CAF50;">이유: 모든 리소스가 존재할 네트워크 공간 필요</text>
    </g>
    
    <g transform="translate(400, -20)">
      <text x="0" y="0" class="text-title" style="fill: #4CAF50;">2️⃣ Security Groups</text>
      <text x="0" y="20" class="text-desc">✅ 3개 완료 (ALB, ECS, RDS)</text>
      <text x="0" y="40" class="text-small" style="fill: #4CAF50;">이유: 네트워크 보안 규칙 정의 (방화벽)</text>
    </g>
    
    <g transform="translate(800, -20)">
      <text x="0" y="0" class="text-title" style="fill: #FF9800;">3️⃣ ALB + Target Groups</text>
      <text x="0" y="20" class="text-desc">🔄 다음 단계</text>
      <text x="0" y="40" class="text-small" style="fill: #FF9800;">이유: 트래픽 분산 및 Blue-Green 배포</text>
    </g>
  </g>
  
  <!-- Phase 2: Computing Layer -->
  <g transform="translate(150, 380)">
    <circle cx="0" cy="0" r="15" class="dot-completed"/>
    <text x="-130" y="5" text-anchor="start" style="font-size: 20px; fill: #2196F3; font-weight: bold;">Phase 2</text>
    
    <rect x="30" y="-80" width="1400" height="160" class="phase-box phase2" rx="12"/>
    <text x="50" y="-50" style="font-size: 22px; fill: #2196F3; font-weight: bold;">
      ✅ 컴퓨팅 레이어 (부분 완료)
    </text>
    
    <!-- Resources -->
    <g transform="translate(50, -20)">
      <text x="0" y="0" class="text-title" style="fill: #4CAF50;">4️⃣ ECR Repository</text>
      <text x="0" y="20" class="text-desc">✅ 완료</text>
      <text x="0" y="40" class="text-small" style="fill: #4CAF50;">이유: Docker 이미지 저장소</text>
    </g>
    
    <g transform="translate(350, -20)">
      <text x="0" y="0" class="text-title" style="fill: #4CAF50;">5️⃣ ECS Cluster</text>
      <text x="0" y="20" class="text-desc">✅ 완료 (Fargate)</text>
      <text x="0" y="40" class="text-small" style="fill: #4CAF50;">이유: 컨테이너 실행 환경</text>
    </g>
    
    <g transform="translate(650, -20)">
      <text x="0" y="0" class="text-title" style="fill: #FF9800;">6️⃣ IAM Roles</text>
      <text x="0" y="20" class="text-desc">🔄 다음 단계</text>
      <text x="0" y="40" class="text-small" style="fill: #FF9800;">이유: 권한 관리 (Task 실행 권한)</text>
    </g>
    
    <g transform="translate(950, -20)">
      <text x="0" y="0" class="text-title" style="fill: #FF9800;">7️⃣ CloudWatch</text>
      <text x="0" y="20" class="text-desc">🔄 다음 단계</text>
      <text x="0" y="40" class="text-small" style="fill: #FF9800;">이유: 로그 및 모니터링</text>
    </g>
  </g>
  
  <!-- Phase 3: Application Layer -->
  <g transform="translate(150, 610)">
    <circle cx="0" cy="0" r="15" class="dot-progress"/>
    <text x="-130" y="5" text-anchor="start" style="font-size: 20px; fill: #FF9800; font-weight: bold;">Phase 3</text>
    
    <rect x="30" y="-80" width="1400" height="250" class="phase-box phase3" rx="12"/>
    <text x="50" y="-50" style="font-size: 22px; fill: #FF9800; font-weight: bold;">
      🔄 애플리케이션 레이어 (진행 예정)
    </text>
    <text x="50" y="-25" class="text-desc" style="fill: #FF9800;">
      ⚠️ 주의: 이 단계는 반드시 순서대로 진행해야 합니다!
    </text>
    
    <!-- Resources -->
    <g transform="translate(50, 10)">
      <text x="0" y="0" class="text-title" style="fill: #9E9E9E;">8️⃣ Task Definition</text>
      <text x="0" y="20" class="text-desc">⏳ 대기</text>
      <text x="0" y="40" class="text-small" style="fill: #9E9E9E;">이유: 컨테이너 실행 명세 정의</text>
      <text x="0" y="60" class="text-small" style="fill: #F44336; font-weight: bold;">의존: ECR, IAM Roles</text>
    </g>
    
    <g transform="translate(400, 10)">
      <text x="0" y="0" class="text-title" style="fill: #9E9E9E;">9️⃣ ECS Service</text>
      <text x="0" y="20" class="text-desc">⏳ 대기</text>
      <text x="0" y="40" class="text-small" style="fill: #9E9E9E;">이유: 컨테이너를 실제로 실행</text>
      <text x="0" y="60" class="text-small" style="fill: #F44336; font-weight: bold;">의존: ALB, TG, Task Def, Cluster</text>
    </g>
    
    <g transform="translate(800, 10)">
      <text x="0" y="0" class="text-title" style="fill: #9E9E9E;">🔟 CodeDeploy</text>
      <text x="0" y="20" class="text-desc">⏳ 대기</text>
      <text x="0" y="40" class="text-small" style="fill: #9E9E9E;">이유: Blue-Green 배포 자동화</text>
      <text x="0" y="60" class="text-small" style="fill: #F44336; font-weight: bold;">의존: ECS Service, Target Groups</text>
    </g>
    
    <g transform="translate(50, 100)">
      <rect width="1300" height="50" style="fill: #FFCDD2; stroke: #F44336; stroke-width: 2;" rx="8"/>
      <text x="650" y="32" text-anchor="middle" style="font-size: 16px; fill: #F44336; font-weight: bold;">
        🚨 중요: Phase 3는 위에서 아래로 순차적으로! 건너뛰면 에러 발생!
      </text>
    </g>
  </g>
  
  <!-- Explanation Box -->
  <g transform="translate(100, 920)">
    <rect width="1400" height="70" style="fill: #FFF9C4; stroke: #FBC02D; stroke-width: 3;" rx="12"/>
    
    <text x="700" y="30" text-anchor="middle" style="font-size: 20px; fill: #333; font-weight: bold;">
      💡 왜 ECR과 ECS Cluster를 먼저 만들었나요?
    </text>
    <text x="700" y="55" text-anchor="middle" class="text-desc">
      이유: ECR과 ECS Cluster는 <tspan style="font-weight: bold; fill: #2196F3;">독립적</tspan>이라 언제 만들어도 OK! 
      반면 ECS Service는 <tspan style="font-weight: bold; fill: #F44336;">ALB, TG, Task Definition이 모두 준비된 후</tspan>에만 만들 수 있습니다.
    </text>
  </g>
</svg>
