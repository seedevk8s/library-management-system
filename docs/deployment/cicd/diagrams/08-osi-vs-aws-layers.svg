<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1100">
  <defs>
    <style>
      .osi-layer { stroke-width: 3; }
      .layer7 { fill: #FFEBEE; stroke: #E57373; }
      .layer6 { fill: #FCE4EC; stroke: #F06292; }
      .layer5 { fill: #F3E5F5; stroke: #BA68C8; }
      .layer4 { fill: #EDE7F6; stroke: #9575CD; }
      .layer3 { fill: #E8EAF6; stroke: #7986CB; }
      .layer2 { fill: #E3F2FD; stroke: #64B5F6; }
      .layer1 { fill: #E0F2F1; stroke: #4DB6AC; }
      .aws-box { stroke-width: 2; fill: #FFF; stroke: #FF9900; }
      .text-title { fill: #333; font-family: Arial, sans-serif; font-size: 16px; font-weight: bold; }
      .text-desc { fill: #666; font-family: Arial, sans-serif; font-size: 13px; }
      .text-small { fill: #999; font-family: Arial, sans-serif; font-size: 11px; }
      .arrow { fill: none; stroke: #999; stroke-width: 2; stroke-dasharray: 5,5; }
    </style>
  </defs>
  
  <!-- Title -->
  <text x="900" y="40" text-anchor="middle" style="font-size: 32px; fill: #333; font-weight: bold;">
    🌐 OSI 7 Layer vs AWS 클라우드 계층 구조
  </text>
  <text x="900" y="70" text-anchor="middle" style="font-size: 16px; fill: #666;">
    네트워크 모델과 AWS 리소스의 개념적 매핑
  </text>
  
  <!-- Left Side: OSI 7 Layer Model -->
  <g transform="translate(100, 120)">
    <text x="300" y="0" text-anchor="middle" style="font-size: 24px; fill: #333; font-weight: bold;">
      📚 OSI 7 Layer 모델
    </text>
    <text x="300" y="25" text-anchor="middle" class="text-desc">
      (네트워크 통신 표준 모델)
    </text>
    
    <!-- Layer 7: Application -->
    <g transform="translate(0, 50)">
      <rect width="600" height="100" class="osi-layer layer7" rx="10"/>
      <text x="30" y="30" style="font-size: 18px; fill: #C62828; font-weight: bold;">Layer 7: Application</text>
      <text x="30" y="50" class="text-desc">사용자 인터페이스, 애플리케이션 프로토콜</text>
      <text x="30" y="70" class="text-small">예: HTTP, FTP, SMTP, DNS</text>
      <text x="30" y="87" class="text-small" style="fill: #C62828; font-weight: bold;">→ 사용자가 직접 상호작용하는 계층</text>
    </g>
    
    <!-- Layer 6: Presentation -->
    <g transform="translate(0, 160)">
      <rect width="600" height="80" class="osi-layer layer6" rx="10"/>
      <text x="30" y="25" style="font-size: 16px; fill: #AD1457; font-weight: bold;">Layer 6: Presentation</text>
      <text x="30" y="45" class="text-desc">데이터 형식 변환, 암호화, 압축</text>
      <text x="30" y="65" class="text-small">예: SSL/TLS, JPEG, MPEG</text>
    </g>
    
    <!-- Layer 5: Session -->
    <g transform="translate(0, 250)">
      <rect width="600" height="80" class="osi-layer layer5" rx="10"/>
      <text x="30" y="25" style="font-size: 16px; fill: #8E24AA; font-weight: bold;">Layer 5: Session</text>
      <text x="30" y="45" class="text-desc">세션 연결 관리, 동기화</text>
      <text x="30" y="65" class="text-small">예: NetBIOS, RPC</text>
    </g>
    
    <!-- Layer 4: Transport -->
    <g transform="translate(0, 340)">
      <rect width="600" height="100" class="osi-layer layer4" rx="10"/>
      <text x="30" y="25" style="font-size: 18px; fill: #5E35B1; font-weight: bold;">Layer 4: Transport</text>
      <text x="30" y="45" class="text-desc">종단 간 데이터 전송, 오류 제어</text>
      <text x="30" y="65" class="text-small">예: TCP, UDP</text>
      <text x="30" y="85" class="text-small" style="fill: #5E35B1; font-weight: bold;">→ 포트 번호로 서비스 구분</text>
    </g>
    
    <!-- Layer 3: Network -->
    <g transform="translate(0, 450)">
      <rect width="600" height="100" class="osi-layer layer3" rx="10"/>
      <text x="30" y="25" style="font-size: 18px; fill: #3949AB; font-weight: bold;">Layer 3: Network</text>
      <text x="30" y="45" class="text-desc">라우팅, IP 주소 지정</text>
      <text x="30" y="65" class="text-small">예: IP, ICMP, 라우터</text>
      <text x="30" y="85" class="text-small" style="fill: #3949AB; font-weight: bold;">→ 패킷을 목적지까지 전달</text>
    </g>
    
    <!-- Layer 2: Data Link -->
    <g transform="translate(0, 560)">
      <rect width="600" height="100" class="osi-layer layer2" rx="10"/>
      <text x="30" y="25" style="font-size: 18px; fill: #1E88E5; font-weight: bold;">Layer 2: Data Link</text>
      <text x="30" y="45" class="text-desc">MAC 주소, 프레임 전송, 오류 검출</text>
      <text x="30" y="65" class="text-small">예: Ethernet, Wi-Fi, 스위치</text>
      <text x="30" y="85" class="text-small" style="fill: #1E88E5; font-weight: bold;">→ 직접 연결된 노드 간 통신</text>
    </g>
    
    <!-- Layer 1: Physical -->
    <g transform="translate(0, 670)">
      <rect width="600" height="100" class="osi-layer layer1" rx="10"/>
      <text x="30" y="25" style="font-size: 18px; fill: #00897B; font-weight: bold;">Layer 1: Physical</text>
      <text x="30" y="45" class="text-desc">물리적 전송 매체, 비트 전송</text>
      <text x="30" y="65" class="text-small">예: 케이블, 허브, 전기 신호</text>
      <text x="30" y="85" class="text-small" style="fill: #00897B; font-weight: bold;">→ 하드웨어, 물리적 연결</text>
    </g>
  </g>
  
  <!-- Right Side: AWS Cloud Architecture Layers -->
  <g transform="translate(850, 120)">
    <text x="400" y="0" text-anchor="middle" style="font-size: 24px; fill: #FF9900; font-weight: bold;">
      ☁️ AWS 클라우드 계층 구조
    </text>
    <text x="400" y="25" text-anchor="middle" class="text-desc">
      (우리 프로젝트의 리소스 구조)
    </text>
    
    <!-- Application Layer -->
    <g transform="translate(0, 50)">
      <rect width="800" height="180" style="fill: #FFEBEE; stroke: #FF9900; stroke-width: 3;" rx="10"/>
      <text x="30" y="30" style="font-size: 20px; fill: #C62828; font-weight: bold;">🚀 Application Layer (Layer 7 대응)</text>
      <text x="30" y="55" class="text-desc" style="font-weight: bold;">사용자 애플리케이션 실행 계층</text>
      
      <g transform="translate(30, 75)">
        <rect width="230" height="80" class="aws-box" rx="5"/>
        <text x="10" y="20" class="text-title" style="fill: #FF9900;">ECS Task Definition</text>
        <text x="10" y="38" class="text-small">컨테이너 실행 명세</text>
        <text x="10" y="53" class="text-small">CPU, Memory, 이미지</text>
        <text x="10" y="68" class="text-small">환경변수, 포트 매핑</text>
      </g>
      
      <g transform="translate(280, 75)">
        <rect width="230" height="80" class="aws-box" rx="5"/>
        <text x="10" y="20" class="text-title" style="fill: #FF9900;">ECS Service</text>
        <text x="10" y="38" class="text-small">컨테이너 실행 관리</text>
        <text x="10" y="53" class="text-small">원하는 Task 개수 유지</text>
        <text x="10" y="68" class="text-small">ALB와 연결</text>
      </g>
      
      <g transform="translate(530, 75)">
        <rect width="230" height="80" class="aws-box" rx="5"/>
        <text x="10" y="20" class="text-title" style="fill: #FF9900;">CodeDeploy</text>
        <text x="10" y="38" class="text-small">Blue-Green 배포</text>
        <text x="10" y="53" class="text-small">자동 트래픽 전환</text>
        <text x="10" y="68" class="text-small">롤백 기능</text>
      </g>
    </g>
    
    <!-- Platform Layer -->
    <g transform="translate(0, 250)">
      <rect width="800" height="300" style="fill: #E3F2FD; stroke: #FF9900; stroke-width: 3;" rx="10"/>
      <text x="30" y="30" style="font-size: 20px; fill: #1976D2; font-weight: bold;">💻 Platform Layer (Layer 4-6 대응)</text>
      <text x="30" y="55" class="text-desc" style="font-weight: bold;">애플리케이션 실행 플랫폼 및 서비스</text>
      
      <g transform="translate(30, 75)">
        <rect width="230" height="80" class="aws-box" rx="5"/>
        <text x="10" y="20" class="text-title" style="fill: #FF9900;">ECS Cluster</text>
        <text x="10" y="38" class="text-small">컨테이너 실행 환경</text>
        <text x="10" y="53" class="text-small">Fargate (서버리스)</text>
        <text x="10" y="68" class="text-small">리소스 관리</text>
      </g>
      
      <g transform="translate(280, 75)">
        <rect width="230" height="80" class="aws-box" rx="5"/>
        <text x="10" y="20" class="text-title" style="fill: #FF9900;">ECR (Container Registry)</text>
        <text x="10" y="38" class="text-small">Docker 이미지 저장</text>
        <text x="10" y="53" class="text-small">버전 관리</text>
        <text x="10" y="68" class="text-small">보안 스캔</text>
      </g>
      
      <g transform="translate(530, 75)">
        <rect width="230" height="80" class="aws-box" rx="5"/>
        <text x="10" y="20" class="text-title" style="fill: #FF9900;">IAM Roles</text>
        <text x="10" y="38" class="text-small">권한 관리</text>
        <text x="10" y="53" class="text-small">Task 실행 권한</text>
        <text x="10" y="68" class="text-small">보안 정책</text>
      </g>
      
      <g transform="translate(30, 175)">
        <rect width="230" height="80" class="aws-box" rx="5"/>
        <text x="10" y="20" class="text-title" style="fill: #FF9900;">CloudWatch Logs</text>
        <text x="10" y="38" class="text-small">로그 수집/저장</text>
        <text x="10" y="53" class="text-small">모니터링</text>
        <text x="10" y="68" class="text-small">알람</text>
      </g>
      
      <g transform="translate(280, 175)">
        <rect width="230" height="80" class="aws-box" rx="5"/>
        <text x="10" y="20" class="text-title" style="fill: #FF9900;">Parameter Store</text>
        <text x="10" y="38" class="text-small">설정 관리</text>
        <text x="10" y="53" class="text-small">DB 연결 정보</text>
        <text x="10" y="68" class="text-small">환경 변수</text>
      </g>
    </g>
    
    <!-- Infrastructure Layer -->
    <g transform="translate(0, 570)">
      <rect width="800" height="200" style="fill: #E8F5E9; stroke: #FF9900; stroke-width: 3;" rx="10"/>
      <text x="30" y="30" style="font-size: 20px; fill: #2E7D32; font-weight: bold;">📶 Infrastructure Layer (Layer 1-3 대응)</text>
      <text x="30" y="55" class="text-desc" style="font-weight: bold;">네트워크 인프라 및 보안</text>
      
      <g transform="translate(30, 75)">
        <rect width="170" height="90" class="aws-box" rx="5"/>
        <text x="10" y="20" class="text-title" style="fill: #FF9900;">VPC</text>
        <text x="10" y="38" class="text-small">가상 네트워크</text>
        <text x="10" y="53" class="text-small">IP 주소 범위</text>
        <text x="10" y="68" class="text-small">네트워크 격리</text>
        <text x="10" y="83" class="text-small" style="fill: #2E7D32; font-weight: bold;">Layer 3 대응</text>
      </g>
      
      <g transform="translate(220, 75)">
        <rect width="170" height="90" class="aws-box" rx="5"/>
        <text x="10" y="20" class="text-title" style="fill: #FF9900;">Subnets</text>
        <text x="10" y="38" class="text-small">네트워크 분할</text>
        <text x="10" y="53" class="text-small">AZ 배치</text>
        <text x="10" y="68" class="text-small">Public/Private</text>
        <text x="10" y="83" class="text-small" style="fill: #2E7D32; font-weight: bold;">Layer 3 대응</text>
      </g>
      
      <g transform="translate(410, 75)">
        <rect width="170" height="90" class="aws-box" rx="5"/>
        <text x="10" y="20" class="text-title" style="fill: #FF9900;">Security Groups</text>
        <text x="10" y="38" class="text-small">가상 방화벽</text>
        <text x="10" y="53" class="text-small">Inbound/Outbound</text>
        <text x="10" y="68" class="text-small">포트 제어</text>
        <text x="10" y="83" class="text-small" style="fill: #2E7D32; font-weight: bold;">Layer 3-4 대응</text>
      </g>
      
      <g transform="translate(600, 75)">
        <rect width="170" height="90" class="aws-box" rx="5"/>
        <text x="10" y="20" class="text-title" style="fill: #FF9900;">ALB</text>
        <text x="10" y="38" class="text-small">트래픽 분산</text>
        <text x="10" y="53" class="text-small">HTTP/HTTPS</text>
        <text x="10" y="68" class="text-small">Health Check</text>
        <text x="10" y="83" class="text-small" style="fill: #2E7D32; font-weight: bold;">Layer 7 대응</text>
      </g>
    </g>
  </g>
  
  <!-- Connecting Arrows -->
  <line x1="700" y1="200" x2="850" y2="200" class="arrow"/>
  <text x="775" y="195" text-anchor="middle" class="text-small" style="fill: #999;">대응</text>
  
  <line x1="700" y1="400" x2="850" y2="400" class="arrow"/>
  <text x="775" y="395" text-anchor="middle" class="text-small" style="fill: #999;">대응</text>
  
  <line x1="700" y1="650" x2="850" y2="750" class="arrow"/>
  <text x="775" y="700" text-anchor="middle" class="text-small" style="fill: #999;">개념적 매핑</text>
  
  <!-- Summary Box -->
  <g transform="translate(100, 930)">
    <rect width="1600" height="140" style="fill: #FFF9C4; stroke: #FBC02D; stroke-width: 3;" rx="12"/>
    
    <text x="800" y="35" text-anchor="middle" style="font-size: 22px; fill: #333; font-weight: bold;">
      💡 OSI 모델과 AWS 아키텍처의 관계
    </text>
    
    <g transform="translate(40, 55)">
      <text x="0" y="0" class="text-desc">
        • OSI 7 Layer는 <tspan style="font-weight: bold;">네트워크 통신을 위한 표준 모델</tspan>이고, AWS 아키텍처는 <tspan style="font-weight: bold;">클라우드 리소스의 계층 구조</tspan>입니다.
      </text>
      <text x="0" y="22" class="text-desc">
        • AWS는 OSI 모델을 직접 구현한 것은 아니지만, <tspan style="font-weight: bold; fill: #FF9900;">계층화(Layering) 개념</tspan>을 차용하여 인프라 → 플랫폼 → 애플리케이션으로 구조화합니다.
      </text>
      <text x="0" y="44" class="text-desc">
        • <tspan style="font-weight: bold; fill: #2E7D32;">하위 계층(Infrastructure)</tspan>은 상위 계층의 기반이 되며, <tspan style="font-weight: bold; fill: #C62828;">상위 계층(Application)</tspan>은 하위 계층에 의존합니다.
      </text>
      <text x="0" y="66" class="text-desc">
        • 우리 프로젝트의 리소스 생성 순서는 이러한 <tspan style="font-weight: bold; fill: #1976D2;">계층적 의존성</tspan>을 반영한 것입니다!
      </text>
    </g>
  </g>
  
  <!-- Footer -->
  <text x="1750" y="1090" text-anchor="end" style="font-size: 11px; fill: #999;">
    OSI 7 Layer vs AWS Cloud Architecture - 2025-10-27
  </text>
</svg>
