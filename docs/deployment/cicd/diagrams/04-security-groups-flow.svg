<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 800">
  <defs>
    <style>
      .sg-box { stroke: #333; stroke-width: 3; }
      .sg-alb { fill: #8C4FFF; }
      .sg-ecs { fill: #FF7A00; }
      .sg-rds { fill: #00758F; }
      .component { fill: #fff; stroke: #666; stroke-width: 2; }
      .user { fill: #3498DB; stroke: #2980B9; stroke-width: 2; }
      .text-white { fill: #fff; font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; }
      .text-title { fill: #333; font-family: Arial, sans-serif; font-size: 20px; font-weight: bold; }
      .text-desc { fill: #666; font-family: Arial, sans-serif; font-size: 12px; }
      .arrow { fill: none; stroke-width: 4; }
      .arrow-red { stroke: #E74C3C; }
      .arrow-orange { stroke: #FF8C00; }
      .arrow-blue { stroke: #3498DB; }
    </style>
    <marker id="arrow-red" markerWidth="12" markerHeight="12" refX="10" refY="3" orient="auto">
      <polygon points="0 0, 12 3, 0 6" fill="#E74C3C" />
    </marker>
    <marker id="arrow-orange" markerWidth="12" markerHeight="12" refX="10" refY="3" orient="auto">
      <polygon points="0 0, 12 3, 0 6" fill="#FF8C00" />
    </marker>
    <marker id="arrow-blue" markerWidth="12" markerHeight="12" refX="10" refY="3" orient="auto">
      <polygon points="0 0, 12 3, 0 6" fill="#3498DB" />
    </marker>
  </defs>
  
  <text x="700" y="40" text-anchor="middle" class="text-title" style="font-size: 28px;">
    ğŸ” Security Groups íŠ¸ë˜í”½ íë¦„ë„
  </text>
  <text x="700" y="70" text-anchor="middle" class="text-desc" style="font-size: 16px;">
    ê° ë³´ì•ˆ ê·¸ë£¹ì˜ ì—­í• ê³¼ íŠ¸ë˜í”½ í—ˆìš© ê·œì¹™
  </text>
  
  <!-- Internet Users -->
  <ellipse cx="120" cy="250" rx="80" ry="60" class="user"/>
  <text x="120" y="240" text-anchor="middle" style="font-size: 36px; fill: #fff;">ğŸŒ</text>
  <text x="120" y="270" text-anchor="middle" class="text-white">Internet</text>
  <text x="120" y="290" text-anchor="middle" style="font-size: 12px; fill: #fff;">Users</text>
  
  <!-- Security Group 1: ALB -->
  <g transform="translate(280, 150)">
    <rect width="280" height="200" class="sg-box sg-alb" rx="15"/>
    <text x="140" y="35" text-anchor="middle" class="text-white" style="font-size: 18px;">
      Security Group #1
    </text>
    <text x="140" y="60" text-anchor="middle" class="text-white" style="font-size: 16px;">
      library-alb-sg
    </text>
    
    <!-- ALB Component -->
    <rect x="40" y="80" width="200" height="80" class="component" rx="8"/>
    <text x="140" y="110" text-anchor="middle" style="font-size: 14px; fill: #000; font-weight: bold;">
      Application Load Balancer
    </text>
    <text x="140" y="130" text-anchor="middle" style="font-size: 12px; fill: #666;">
      (ALB)
    </text>
    <text x="140" y="150" text-anchor="middle" style="font-size: 11px; fill: #666;">
      Port: 80, 443
    </text>
    
    <!-- Inbound Rules -->
    <text x="10" y="185" style="font-size: 11px; fill: #fff; font-weight: bold;">Inbound:</text>
    <text x="10" y="200" style="font-size: 10px; fill: #fff;">âœ“ HTTP (80) â† 0.0.0.0/0</text>
    <text x="10" y="215" style="font-size: 10px; fill: #fff;">âœ“ HTTPS (443) â† 0.0.0.0/0</text>
  </g>
  
  <!-- Arrow 1: Internet to ALB -->
  <path d="M 200 250 L 280 250" class="arrow arrow-red" marker-end="url(#arrow-red)"/>
  <text x="240" y="240" text-anchor="middle" style="font-size: 13px; fill: #E74C3C; font-weight: bold;">
    HTTP/HTTPS
  </text>
  <text x="240" y="255" text-anchor="middle" style="font-size: 11px; fill: #E74C3C;">
    Port 80, 443
  </text>
  
  <!-- Security Group 2: ECS -->
  <g transform="translate(640, 150)">
    <rect width="280" height="200" class="sg-box sg-ecs" rx="15"/>
    <text x="140" y="35" text-anchor="middle" class="text-white" style="font-size: 18px;">
      Security Group #2
    </text>
    <text x="140" y="60" text-anchor="middle" class="text-white" style="font-size: 16px;">
      library-ecs-task-sg
    </text>
    
    <!-- ECS Component -->
    <rect x="40" y="80" width="200" height="80" class="component" rx="8"/>
    <text x="140" y="110" text-anchor="middle" style="font-size: 14px; fill: #000; font-weight: bold;">
      ECS Tasks
    </text>
    <text x="140" y="130" text-anchor="middle" style="font-size: 12px; fill: #666;">
      (Spring Boot App)
    </text>
    <text x="140" y="150" text-anchor="middle" style="font-size: 11px; fill: #666;">
      Port: 8081
    </text>
    
    <!-- Inbound Rules -->
    <text x="10" y="185" style="font-size: 11px; fill: #fff; font-weight: bold;">Inbound:</text>
    <text x="10" y="200" style="font-size: 10px; fill: #fff;">âœ“ TCP 8081 â† library-alb-sg</text>
  </g>
  
  <!-- Arrow 2: ALB to ECS -->
  <path d="M 560 250 L 640 250" class="arrow arrow-orange" marker-end="url(#arrow-orange)"/>
  <text x="600" y="240" text-anchor="middle" style="font-size: 13px; fill: #FF8C00; font-weight: bold;">
    HTTP
  </text>
  <text x="600" y="255" text-anchor="middle" style="font-size: 11px; fill: #FF8C00;">
    Port 8081
  </text>
  
  <!-- Security Group 3: RDS -->
  <g transform="translate(1000, 150)">
    <rect width="280" height="200" class="sg-box sg-rds" rx="15"/>
    <text x="140" y="35" text-anchor="middle" class="text-white" style="font-size: 18px;">
      Security Group #3
    </text>
    <text x="140" y="60" text-anchor="middle" class="text-white" style="font-size: 16px;">
      library-rds-sg
    </text>
    
    <!-- RDS Component -->
    <rect x="40" y="80" width="200" height="80" class="component" rx="8"/>
    <text x="140" y="110" text-anchor="middle" style="font-size: 14px; fill: #000; font-weight: bold;">
      RDS MySQL
    </text>
    <text x="140" y="130" text-anchor="middle" style="font-size: 12px; fill: #666;">
      (Database)
    </text>
    <text x="140" y="150" text-anchor="middle" style="font-size: 11px; fill: #666;">
      Port: 3306
    </text>
    
    <!-- Inbound Rules -->
    <text x="10" y="185" style="font-size: 11px; fill: #fff; font-weight: bold;">Inbound:</text>
    <text x="10" y="200" style="font-size: 10px; fill: #fff;">âœ“ MySQL 3306 â† library-ecs-task-sg</text>
  </g>
  
  <!-- Arrow 3: ECS to RDS -->
  <path d="M 920 250 L 1000 250" class="arrow arrow-blue" marker-end="url(#arrow-blue)"/>
  <text x="960" y="240" text-anchor="middle" style="font-size: 13px; fill: #3498DB; font-weight: bold;">
    MySQL
  </text>
  <text x="960" y="255" text-anchor="middle" style="font-size: 11px; fill: #3498DB;">
    Port 3306
  </text>
  
  <!-- Explanation Section -->
  <g transform="translate(50, 420)">
    <text x="0" y="0" class="text-title" style="font-size: 22px;">
      ğŸ“Œ í•µì‹¬ ê°œë… ì„¤ëª…
    </text>
    
    <rect x="0" y="20" width="1300" height="320" style="fill: #F8F9FA; stroke: #DEE2E6; stroke-width: 2;" rx="10"/>
    
    <g transform="translate(20, 50)">
      <text x="0" y="0" style="font-size: 18px; fill: #333; font-weight: bold;">
        1ï¸âƒ£ ë³´ì•ˆ ê·¸ë£¹(Security Group)ì´ë€?
      </text>
      <text x="0" y="25" class="text-desc" style="font-size: 14px;">
        â€¢ AWSì˜ ê°€ìƒ ë°©í™”ë²½ì…ë‹ˆë‹¤. ì–´ë–¤ íŠ¸ë˜í”½ì„ í—ˆìš©í• ì§€ ê·œì¹™ìœ¼ë¡œ ì •ì˜í•©ë‹ˆë‹¤.
      </text>
      <text x="0" y="45" class="text-desc" style="font-size: 14px;">
        â€¢ <tspan style="font-weight: bold;">Inbound(ì¸ë°”ìš´ë“œ)</tspan>: ì™¸ë¶€ â†’ ë‚´ë¶€ë¡œ ë“¤ì–´ì˜¤ëŠ” íŠ¸ë˜í”½ ê·œì¹™
      </text>
      <text x="0" y="65" class="text-desc" style="font-size: 14px;">
        â€¢ <tspan style="font-weight: bold;">Outbound(ì•„ì›ƒë°”ìš´ë“œ)</tspan>: ë‚´ë¶€ â†’ ì™¸ë¶€ë¡œ ë‚˜ê°€ëŠ” íŠ¸ë˜í”½ ê·œì¹™ (ê¸°ë³¸: ëª¨ë‘ í—ˆìš©)
      </text>
    </g>
    
    <g transform="translate(20, 140)">
      <text x="0" y="0" style="font-size: 18px; fill: #333; font-weight: bold;">
        2ï¸âƒ£ ì†ŒìŠ¤(Source)ë€?
      </text>
      <text x="0" y="25" class="text-desc" style="font-size: 14px;">
        â€¢ íŠ¸ë˜í”½ì´ <tspan style="font-weight: bold;">ì–´ë””ì„œë¶€í„°</tspan> ì˜¤ëŠ”ì§€ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.
      </text>
      <text x="0" y="45" class="text-desc" style="font-size: 14px;">
        â€¢ <tspan style="font-weight: bold;">0.0.0.0/0</tspan>: ì¸í„°ë„· ì–´ë””ì„œë“  ì ‘ê·¼ ê°€ëŠ¥ (ëª¨ë“  IP)
      </text>
      <text x="0" y="65" class="text-desc" style="font-size: 14px;">
        â€¢ <tspan style="font-weight: bold;">library-alb-sg</tspan>: library-alb-sg ë³´ì•ˆ ê·¸ë£¹ì´ ë¶™ì€ ë¦¬ì†ŒìŠ¤ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥
      </text>
    </g>
    
    <g transform="translate(20, 230)">
      <text x="0" y="0" style="font-size: 18px; fill: #333; font-weight: bold;">
        3ï¸âƒ£ íŠ¸ë˜í”½ íë¦„ (ìœ„ ë‹¤ì´ì–´ê·¸ë¨ ì°¸ê³ )
      </text>
      <text x="0" y="25" class="text-desc" style="font-size: 14px;">
        <tspan style="fill: #E74C3C; font-weight: bold;">â‘  ì‚¬ìš©ì â†’ ALB</tspan>: ì¸í„°ë„·ì—ì„œ HTTP/HTTPSë¡œ ALBì— ì ‘ì† (Port 80, 443)
      </text>
      <text x="0" y="45" class="text-desc" style="font-size: 14px;">
        <tspan style="fill: #FF8C00; font-weight: bold;">â‘¡ ALB â†’ ECS Tasks</tspan>: ALBê°€ ECS ì•±ì— ìš”ì²­ ì „ë‹¬ (Port 8081)
      </text>
      <text x="30" y="65" class="text-desc" style="font-size: 13px; font-style: italic;">
        âš ï¸ ECSëŠ” library-alb-sgì—ì„œ ì˜¤ëŠ” íŠ¸ë˜í”½ë§Œ í—ˆìš©! (ë‹¤ë¥¸ ê³³ì—ì„œëŠ” ì ‘ê·¼ ë¶ˆê°€)
      </text>
      <text x="0" y="85" class="text-desc" style="font-size: 14px;">
        <tspan style="fill: #3498DB; font-weight: bold;">â‘¢ ECS Tasks â†’ RDS</tspan>: ì•±ì´ ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ì† (Port 3306)
      </text>
      <text x="30" y="105" class="text-desc" style="font-size: 13px; font-style: italic;">
        âš ï¸ RDSëŠ” library-ecs-task-sgì—ì„œ ì˜¤ëŠ” íŠ¸ë˜í”½ë§Œ í—ˆìš©! (ë‹¤ë¥¸ ê³³ì—ì„œëŠ” ì ‘ê·¼ ë¶ˆê°€)
      </text>
    </g>
  </g>
  
  <!-- Footer -->
  <text x="1350" y="790" text-anchor="end" style="font-family: Arial, sans-serif; font-size: 11px; fill: #999;">
    Security Groups Configuration - 2025-10-26
  </text>
</svg>
