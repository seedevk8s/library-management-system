<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 1150">
  <defs>
    <style>
      .title { font: bold 24px sans-serif; fill: #2c3e50; }
      .subtitle { font: bold 18px sans-serif; fill: #34495e; }
      .section-title { font: bold 16px sans-serif; fill: #2c3e50; }
      .label { font: 14px sans-serif; fill: #2c3e50; }
      .small-text { font: 12px sans-serif; fill: #555; }
      .code { font: 12px monospace; fill: #e74c3c; }
      .comment { font: 12px sans-serif; fill: #7f8c8d; font-style: italic; }
      
      .vpc-box { fill: #e8f5e9; stroke: #4caf50; stroke-width: 3; }
      .public-subnet { fill: #e3f2fd; stroke: #2196f3; stroke-width: 2; }
      .private-subnet { fill: #fff3e0; stroke: #ff9800; stroke-width: 2; }
      .az-box { fill: #f5f5f5; stroke: #9e9e9e; stroke-width: 2; stroke-dasharray: 5,5; }
      .igw-box { fill: #c8e6c9; stroke: #4caf50; stroke-width: 2; }
      .nat-box { fill: #ffecb3; stroke: #ffa726; stroke-width: 2; }
      .alb-box { fill: #bbdefb; stroke: #42a5f5; stroke-width: 2; }
      .ecs-box { fill: #ffe0b2; stroke: #ff9800; stroke-width: 2; }
      .rds-box { fill: #ffccbc; stroke: #ff7043; stroke-width: 2; }
      .internet-box { fill: #b2dfdb; stroke: #26a69a; stroke-width: 2; }
      
      .arrow { fill: none; stroke: #34495e; stroke-width: 2; marker-end: url(#arrowhead); }
      .arrow-green { fill: none; stroke: #4caf50; stroke-width: 3; marker-end: url(#arrowhead-green); }
      .arrow-orange { fill: none; stroke: #ff9800; stroke-width: 2; marker-end: url(#arrowhead-orange); }
      .arrow-red { fill: none; stroke: #e74c3c; stroke-width: 2; stroke-dasharray: 5,5; }
    </style>
    
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#34495e" />
    </marker>
    <marker id="arrowhead-green" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#4caf50" />
    </marker>
    <marker id="arrowhead-orange" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#ff9800" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="700" y="40" text-anchor="middle" class="title">AWS VPC 서브넷 아키텍처 (4개 서브넷, Multi-AZ 구성)</text>

  <!-- Internet -->
  <rect x="550" y="70" width="300" height="60" rx="5" class="internet-box"/>
  <text x="700" y="95" text-anchor="middle" class="section-title">Internet</text>
  <text x="700" y="115" text-anchor="middle" class="small-text">외부 사용자, 클라이언트</text>

  <!-- Internet Gateway -->
  <rect x="600" y="160" width="200" height="60" rx="5" class="igw-box"/>
  <text x="700" y="185" text-anchor="middle" class="label">Internet Gateway (IGW)</text>
  <text x="700" y="205" text-anchor="middle" class="small-text">VPC와 인터넷 연결</text>

  <path d="M 700 130 L 700 160" class="arrow-green"/>

  <!-- VPC Container -->
  <rect x="50" y="250" width="1300" height="780" rx="10" class="vpc-box"/>
  <text x="80" y="280" class="section-title">VPC (Virtual Private Cloud)</text>
  <text x="80" y="300" class="code">CIDR: 10.0.0.0/16</text>

  <!-- AZ Labels -->
  <text x="350" y="330" text-anchor="middle" class="subtitle">Availability Zone A</text>
  <text x="350" y="350" text-anchor="middle" class="code">ap-northeast-2a</text>
  
  <text x="1050" y="330" text-anchor="middle" class="subtitle">Availability Zone C</text>
  <text x="1050" y="350" text-anchor="middle" class="code">ap-northeast-2c</text>

  <!-- AZ-A Container -->
  <rect x="80" y="370" width="540" height="620" rx="5" class="az-box" opacity="0.3"/>
  
  <!-- Subnet A (Public in AZ-A) -->
  <rect x="100" y="390" width="500" height="280" rx="5" class="public-subnet"/>
  <text x="350" y="415" text-anchor="middle" class="section-title">Subnet A (Public)</text>
  <text x="350" y="435" text-anchor="middle" class="code">10.0.1.0/24 (ap-northeast-2a)</text>
  <text x="350" y="455" text-anchor="middle" class="small-text">Internet Gateway 라우트 있음</text>

  <!-- Route Table Info -->
  <rect x="120" y="470" width="460" height="80" rx="3" fill="#fff" stroke="#2196f3" stroke-width="1"/>
  <text x="130" y="490" class="label">라우트 테이블:</text>
  <text x="140" y="510" class="code">0.0.0.0/0 → Internet Gateway</text>
  <text x="140" y="530" class="small-text">모든 외부 트래픽이 IGW로 직접 전달</text>
  <text x="140" y="545" class="small-text">= 인터넷과 직접 통신 가능</text>

  <!-- ALB in Subnet A -->
  <rect x="150" y="570" width="180" height="80" rx="3" class="alb-box"/>
  <text x="240" y="595" text-anchor="middle" class="label">Application</text>
  <text x="240" y="615" text-anchor="middle" class="label">Load Balancer</text>
  <text x="240" y="635" text-anchor="middle" class="small-text">(ALB 일부)</text>

  <!-- NAT Gateway in Subnet A -->
  <rect x="370" y="570" width="180" height="80" rx="3" class="nat-box"/>
  <text x="460" y="595" text-anchor="middle" class="label">NAT Gateway</text>
  <text x="460" y="615" text-anchor="middle" class="small-text">Private에서</text>
  <text x="460" y="630" text-anchor="middle" class="small-text">외부 접근용</text>

  <!-- Subnet C (Private in AZ-A) -->
  <rect x="100" y="690" width="500" height="280" rx="5" class="private-subnet"/>
  <text x="350" y="715" text-anchor="middle" class="section-title">Subnet C (Private)</text>
  <text x="350" y="735" text-anchor="middle" class="code">10.0.3.0/24 (ap-northeast-2a)</text>
  <text x="350" y="755" text-anchor="middle" class="small-text">Internet Gateway 라우트 없음</text>

  <!-- Route Table Info Private -->
  <rect x="120" y="770" width="460" height="80" rx="3" fill="#fff" stroke="#ff9800" stroke-width="1"/>
  <text x="130" y="790" class="label">라우트 테이블:</text>
  <text x="140" y="810" class="code">0.0.0.0/0 → NAT Gateway (Subnet A)</text>
  <text x="140" y="830" class="small-text">외부 트래픽이 NAT Gateway로 전달</text>
  <text x="140" y="845" class="small-text">= 외부에서 직접 접근 불가 (보안)</text>

  <!-- ECS Task in Subnet C -->
  <rect x="150" y="870" width="180" height="80" rx="3" class="ecs-box"/>
  <text x="240" y="895" text-anchor="middle" class="label">ECS Task</text>
  <text x="240" y="915" text-anchor="middle" class="small-text">(Spring Boot)</text>
  <text x="240" y="935" text-anchor="middle" class="small-text">App 컨테이너</text>

  <!-- RDS in Subnet C -->
  <rect x="370" y="870" width="180" height="80" rx="3" class="rds-box"/>
  <text x="460" y="895" text-anchor="middle" class="label">RDS MySQL</text>
  <text x="460" y="915" text-anchor="middle" class="small-text">(Primary or</text>
  <text x="460" y="930" text-anchor="middle" class="small-text">Standby)</text>

  <!-- AZ-C Container -->
  <rect x="780" y="370" width="540" height="620" rx="5" class="az-box" opacity="0.3"/>
  
  <!-- Subnet B (Public in AZ-C) -->
  <rect x="800" y="390" width="500" height="280" rx="5" class="public-subnet"/>
  <text x="1050" y="415" text-anchor="middle" class="section-title">Subnet B (Public)</text>
  <text x="1050" y="435" text-anchor="middle" class="code">10.0.2.0/24 (ap-northeast-2c)</text>
  <text x="1050" y="455" text-anchor="middle" class="small-text">Internet Gateway 라우트 있음</text>

  <!-- Route Table Info -->
  <rect x="820" y="470" width="460" height="80" rx="3" fill="#fff" stroke="#2196f3" stroke-width="1"/>
  <text x="830" y="490" class="label">라우트 테이블:</text>
  <text x="840" y="510" class="code">0.0.0.0/0 → Internet Gateway</text>
  <text x="840" y="530" class="small-text">모든 외부 트래픽이 IGW로 직접 전달</text>
  <text x="840" y="545" class="small-text">= 인터넷과 직접 통신 가능</text>

  <!-- ALB in Subnet B -->
  <rect x="850" y="570" width="180" height="80" rx="3" class="alb-box"/>
  <text x="940" y="595" text-anchor="middle" class="label">Application</text>
  <text x="940" y="615" text-anchor="middle" class="label">Load Balancer</text>
  <text x="940" y="635" text-anchor="middle" class="small-text">(ALB 일부)</text>

  <!-- NAT Gateway in Subnet B -->
  <rect x="1070" y="570" width="180" height="80" rx="3" class="nat-box"/>
  <text x="1160" y="595" text-anchor="middle" class="label">NAT Gateway</text>
  <text x="1160" y="615" text-anchor="middle" class="small-text">Private에서</text>
  <text x="1160" y="630" text-anchor="middle" class="small-text">외부 접근용</text>

  <!-- Subnet D (Private in AZ-C) -->
  <rect x="800" y="690" width="500" height="280" rx="5" class="private-subnet"/>
  <text x="1050" y="715" text-anchor="middle" class="section-title">Subnet D (Private)</text>
  <text x="1050" y="735" text-anchor="middle" class="code">10.0.4.0/24 (ap-northeast-2c)</text>
  <text x="1050" y="755" text-anchor="middle" class="small-text">Internet Gateway 라우트 없음</text>

  <!-- Route Table Info Private -->
  <rect x="820" y="770" width="460" height="80" rx="3" fill="#fff" stroke="#ff9800" stroke-width="1"/>
  <text x="830" y="790" class="label">라우트 테이블:</text>
  <text x="840" y="810" class="code">0.0.0.0/0 → NAT Gateway (Subnet B)</text>
  <text x="840" y="830" class="small-text">외부 트래픽이 NAT Gateway로 전달</text>
  <text x="840" y="845" class="small-text">= 외부에서 직접 접근 불가 (보안)</text>

  <!-- ECS Task in Subnet D -->
  <rect x="850" y="870" width="180" height="80" rx="3" class="ecs-box"/>
  <text x="940" y="895" text-anchor="middle" class="label">ECS Task</text>
  <text x="940" y="915" text-anchor="middle" class="small-text">(Spring Boot)</text>
  <text x="940" y="935" text-anchor="middle" class="small-text">App 컨테이너</text>

  <!-- RDS in Subnet D -->
  <rect x="1070" y="870" width="180" height="80" rx="3" class="rds-box"/>
  <text x="1160" y="895" text-anchor="middle" class="label">RDS MySQL</text>
  <text x="1160" y="915" text-anchor="middle" class="small-text">(Primary or</text>
  <text x="1160" y="930" text-anchor="middle" class="small-text">Standby)</text>

  <!-- Traffic Flow Arrows -->
  <path d="M 700 220 L 700 250" class="arrow-green"/>
  <path d="M 670 220 Q 350 280 350 390" class="arrow-green"/>
  <path d="M 730 220 Q 1050 280 1050 390" class="arrow-green"/>
  <path d="M 240 650 L 240 870" class="arrow"/>
  <path d="M 940 650 L 940 870" class="arrow"/>
  <path d="M 330 910 L 370 910" class="arrow"/>
  <path d="M 1030 910 L 1070 910" class="arrow"/>
  <path d="M 460 650 L 460 690" class="arrow-orange"/>
  <path d="M 1160 650 L 1160 690" class="arrow-orange"/>
  <path d="M 550 910 Q 700 950 850 910" class="arrow-red"/>
  <text x="700" y="970" text-anchor="middle" class="small-text" fill="#e74c3c">교차 AZ 통신 가능</text>

  <!-- Legend -->
  <rect x="1200" y="50" width="180" height="180" rx="5" fill="#fff" stroke="#95a5a6" stroke-width="2"/>
  <text x="1290" y="75" text-anchor="middle" class="label">범례</text>
  
  <rect x="1210" y="85" width="30" height="20" class="public-subnet"/>
  <text x="1250" y="100" class="small-text">Public Subnet</text>
  
  <rect x="1210" y="110" width="30" height="20" class="private-subnet"/>
  <text x="1250" y="125" class="small-text">Private Subnet</text>
  
  <line x1="1210" y1="145" x2="1240" y2="145" class="arrow-green"/>
  <text x="1250" y="150" class="small-text">인터넷 트래픽</text>
  
  <line x1="1210" y1="165" x2="1240" y2="165" class="arrow-orange"/>
  <text x="1250" y="170" class="small-text">NAT 트래픽</text>
  
  <line x1="1210" y1="185" x2="1240" y2="185" class="arrow-red"/>
  <text x="1250" y="190" class="small-text">내부 통신</text>

  <!-- Summary Table -->
  <rect x="50" y="1050" width="1300" height="90" rx="5" fill="#fff9c4" stroke="#fbc02d" stroke-width="2"/>
  <text x="700" y="1075" text-anchor="middle" class="section-title">4개 서브넷 구성 요약</text>
  
  <text x="70" y="1100" class="label">Subnet A (Public, AZ-2a): 10.0.1.0/24 - ALB, NAT Gateway</text>
  <text x="70" y="1120" class="label">Subnet B (Public, AZ-2c): 10.0.2.0/24 - ALB, NAT Gateway</text>
  <text x="750" y="1100" class="label">Subnet C (Private, AZ-2a): 10.0.3.0/24 - ECS, RDS</text>
  <text x="750" y="1120" class="label">Subnet D (Private, AZ-2c): 10.0.4.0/24 - ECS, RDS</text>
  
  <text x="700" y="1135" text-anchor="middle" class="comment">서브넷 이름은 선택적 (A/B/C/D, Public1/2/Private1/2 등 자유) | 구조는 필수 (Public 2개 + Private 2개, 서로 다른 AZ)</text>
</svg>