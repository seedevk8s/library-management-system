Layer 1 (네트워크) - 독립적 ✅
├─ VPC/Subnets        : 의존성 없음 (언제든 OK)
├─ Security Groups    : VPC만 필요 (먼저 해도 OK)
├─ ALB               : SG 필요 (SG 후 생성)
└─ Target Groups     : VPC 필요 (VPC 후 생성)

Layer 2 (컴퓨팅) - 독립적 ✅
├─ ECR Repository    : 의존성 없음 (언제든 OK)
├─ ECS Cluster       : 의존성 없음 (언제든 OK)
├─ IAM Roles         : 의존성 없음 (언제든 OK)
└─ CloudWatch Logs   : 의존성 없음 (언제든 OK)

Layer 3 (애플리케이션) - 의존적 ⚠️
├─ Task Definition   : ECR, IAM 필요 (순서 중요!)
├─ ECS Service       : 모든 것 필요 (반드시 마지막!)
└─ CodeDeploy        : ECS Service 필요 (Service 후!)
```

**💡 핵심 포인트:**
- Layer 1-2는 순서 무관 (병렬 작업 가능)
- Layer 3는 순서 엄수 필수!

---

### ⚖️ 2. **이상적 순서 vs 실제 순서 비교** (`06-order-comparison.svg`)

**왼쪽 (이상적 순서):**
```
1. VPC/Subnets
2. Security Groups
3. ALB + Target Groups
4. ECR + ECS Cluster + IAM
5. Task Definition
6. ECS Service
7. CodeDeploy

장점: 논리적으로 명확함
```

**오른쪽 (실제로 우리가 한 순서):**
```
1. ECR Repository
2. Security Groups
3. ECS Cluster
4. ALB + Target Groups (다음)
5. IAM + CloudWatch (예정)
6. Task Definition (예정)
7. ECS Service + CodeDeploy (예정)

장점: 유연하고 효율적 (독립적 리소스는 병렬 작업)
```

**💡 결론:**
- 두 방법 모두 정답!
- 단, ECS Service는 반드시 ALB/TG 준비 후 생성!

---

### 📅 3. **Phase별 타임라인** (`07-phase-timeline.svg`)

**Phase 1 - 네트워크 레이어 (완료 ✅)**
```
1️⃣ VPC/Subnets      ✅ 기본 VPC 확인
2️⃣ Security Groups  ✅ 3개 완료
3️⃣ ALB + TG         🔄 다음 단계
```

**Phase 2 - 컴퓨팅 레이어 (부분 완료)**
```
4️⃣ ECR Repository   ✅ 완료
5️⃣ ECS Cluster      ✅ 완료
6️⃣ IAM Roles        🔄 다음 단계
7️⃣ CloudWatch       🔄 다음 단계
```

**Phase 3 - 애플리케이션 레이어 (진행 예정)**
```
8️⃣ Task Definition  ⏳ 대기 (의존: ECR, IAM)
9️⃣ ECS Service      ⏳ 대기 (의존: ALB, TG, Task Def)
🔟 CodeDeploy        ⏳ 대기 (의존: ECS Service, TG)

⚠️ 주의: Phase 3는 반드시 순서대로!
```

---

## 🎯 핵심 정리

### ❓ Q: 왜 ECR과 ECS Cluster를 먼저 만들었나요?

**A: 독립적이라 언제 만들어도 OK!**
```
독립적 리소스 (순서 무관)
├─ ECR Repository    ✅ 언제든 만들 수 있음
├─ ECS Cluster       ✅ 언제든 만들 수 있음
├─ Security Groups   ✅ 언제든 만들 수 있음
└─ IAM Roles         ✅ 언제든 만들 수 있음

의존적 리소스 (순서 중요!)
├─ ECS Service       ❌ ALB, TG, Task Def 필요
└─ CodeDeploy        ❌ ECS Service 필요
```

### 📌 다음 작업 순서 (명확함!)
```
지금부터:
1. ALB + Target Groups (네트워크 완성)
2. IAM Roles (권한 설정)
3. CloudWatch Logs (로깅)
4. Task Definition (컨테이너 정의)
5. ECS Service (모든 것 연결)
6. CodeDeploy (배포 자동화)